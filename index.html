<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–ñ–î–ò–¢–ï –ù–û–í–û–ì–û –ì–û–î–ê</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    * { margin:0; padding:0; box-sizing:border-box; }
    body { background:#0a001f; color:#fff; font-family:Arial; overflow:hidden; height:100vh; }
    .stars { position:fixed; top:0; left:0; width:100%; height:100%; background:url('https://assets.codepen.io/1538474/stars.png'); animation:twinkle 8s infinite; }
    @keyframes twinkle { 0%,100%{opacity:0.7} 50%{opacity:1} }
    .northern-lights { position:fixed; top:0; left:0; width:100%; height:40%; background:linear-gradient(90deg,#00f260,#0575e6,#a166ab,#f093fb); opacity:0.3; filter:blur(80px); animation:aurora 20s infinite alternate; }
    @keyframes aurora { 0%{transform:translateX(-20%)} 100%{transform:translateX(20%)} }
    .snow { position:fixed; top:0; left:0; width:100%; height:100%; pointer-events:none; }
    .snow div { position:absolute; color:#fff; font-size:1.5em; animation:fall linear infinite; }
    @keyframes fall { to { transform:translateY(100vh) rotate(360deg); } }
    .page { position:fixed; inset:0; transition:all 1.5s; opacity:0; z-index:-1; }
    .page.active { opacity:1; z-index:10; }
    .auth-card { background:rgba(10,0,40,0.7); backdrop-filter:blur(15px); border:1px solid rgba(255,255,255,0.1); border-radius:20px; max-width:420px; }
    .btn-gold { background:linear-gradient(45deg,#ffd700,#ffb347); border:none; color:#000; font-weight:bold; }
    .magic-title { font-size:5rem; background:linear-gradient(45deg,#ffd700,#fff,#87CEEB); -webkit-background-clip:text; background-clip:text; color:transparent; text-shadow:0 0 40px gold; animation:glow 3s infinite alternate; }
    @keyframes glow { 0%{text-shadow:0 0 40px gold} 100%{text-shadow:0 0 80px #fff} }
    .christmas-tree { width:200px; height:300px; background:conic-gradient(from 0deg at 50% 10%,#0f0 0deg,#0c0 30deg,#090 60deg,transparent 90deg); border-radius:50% 50% 50% 50% / 60% 60% 40% 40%; position:relative; animation:tree 4s infinite; }
    .christmas-tree::before { content:"‚òÖ"; position:absolute; top:-30px; left:50%; transform:translateX(-50%); font-size:60px; color:gold; animation:star 3s infinite; }
    @keyframes tree { 0%,100%{filter:brightness(1)} 50%{filter:brightness(1.6)} }
    @keyframes star { 0%,100%{transform:translateX(-50%) scale(1)} 50%{transform:translateX(-50%) scale(1.3)} }
    @media (max-width:768px) { .magic-title{font-size:3rem} }
  </style>
</head>
<body>

  <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ –≤—Ö–æ–¥–∞ -->
  <div id="auth" class="page active d-flex align-items-center justify-content-center">
    <div class="stars"></div>
    <div class="card auth-card shadow-lg p-5">
      <h1 class="text-center mb-4" style="color:#ffd700; font-size:3rem;">‚ú® –ù–æ–≤—ã–π –≥–æ–¥ –±–ª–∏–∑–∫–æ ‚ú®</h1>
      <input type="email" id="email" class="form-control form-control-lg mb-3" placeholder="Email">
      <input type="password" id="password" class="form-control form-control-lg mb-3" placeholder="–ü–∞—Ä–æ–ª—å (6+ —Å–∏–º–≤–æ–ª–æ–≤)">
      <button id="register" class="btn btn-gold btn-lg w-100 mb-2">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</button>
      <button id="login" class="btn btn-outline-light btn-lg w-100">–í–æ–π—Ç–∏</button>
      <div id="msg" class="mt-3"></div>
    </div>
  </div>

  <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Å –∞–Ω–∏–º–∞—Ü–∏–µ–π -->
  <div id="magic" class="page text-center d-flex flex-column justify-content-center align-items-center">
    <div class="snow"></div>
    <div class="northern-lights"></div>
    <h1 class="magic-title">–ñ–î–ò–¢–ï –ù–û–í–û–ì–û –ì–û–î–ê</h1>
    <p style="font-size:2rem; color:#87CEEB;">–ú—ã –≥–æ—Ç–æ–≤–∏–º —á—Ç–æ-—Ç–æ –Ω–µ–≤–µ—Ä–æ—è—Ç–Ω–æ–µ...</p>
    <div class="christmas-tree"></div>
  </div>

  <!-- Firebase -->
  <script src="https://www.gstatic.com/firebasejs/9.14.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.14.0/firebase-auth-compat.js"></script>
  <script>
    const firebaseConfig = {
      apiKey: "AIzaSyCDW7tqHvORYUSO5r4lxhzg8hO-cbwnr-A",
      authDomain: "newearsitette2025.firebaseapp.com",
      projectId: "newearsitette2025",
      storageBucket: "newearsitette2025.firebasestorage.app",
      messagingSenderId: "857563274920",
      appId: "1:857563274920:web:712fee6831652edbe12c9d"
    };

    firebase.initializeApp(firebaseConfig);
    const auth = firebase.auth();
    const msg = document.getElementById('msg');

    function show(txt, type='danger') {
      msg.innerHTML = `<div class="alert alert-${type} alert-dismissible"><button type="button" class="btn-close" data-bs-dismiss="alert"></button>${txt}</div>`;
    }

    document.getElementById('register').onclick = () => {
      const e = document.getElementById('email').value.trim();
      const p = document.getElementById('password').value;
      if (!e || !p) return show('–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –ø–æ–ª—è');
      auth.createUserWithEmailAndPassword(e, p)
        .then(() => { show('–£—Å–ø–µ—à–Ω–æ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω! üéÖ', 'success'); setTimeout(()=>location.reload(), 1500); })
        .catch(err => show(err.message.includes('weak') ? '–ü–∞—Ä–æ–ª—å —Å–ª–∏—à–∫–æ–º –∫–æ—Ä–æ—Ç–∫–∏–π (–º–∏–Ω–∏–º—É–º 6)' : err.message));
    };

    document.getElementById('login').onclick = () => {
      const e = document.getElementById('email').value.trim();
      const p = document.getElementById('password').value;
      if (!e || !p) return show('–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –ø–æ–ª—è');
      auth.signInWithEmailAndPassword(e, p)
        .then(() => document.getElementById('auth').classList.remove('active') || document.getElementById('magic').classList.add('active'))
        .catch(err => show('–ù–µ–≤–µ—Ä–Ω—ã–π –ª–æ–≥–∏–Ω –∏–ª–∏ –ø–∞—Ä–æ–ª—å'));
    };

    auth.onAuthStateChanged(user => {
      if (user) {
        document.getElementById('auth').classList.remove('active');
        document.getElementById('magic').classList.add('active');
        // –°–Ω–µ–≥
        const s = document.querySelector('.snow');
        for(let i=0; i<150; i++){
          const f = document.createElement('div');
          f.textContent = '‚ùÜ‚ùÖ‚úª*‚ùÑ'[Math.floor(Math.random()*5)];
          f.style.left = Math.random()*100+'vw';
          f.style.animationDuration = 6+Math.random()*14+'s';
          f.style.fontSize = (0.8+Math.random()*1.2)+'em';
          s.appendChild(f);
        }
      }
    });
  </script>
</body>
</html>
